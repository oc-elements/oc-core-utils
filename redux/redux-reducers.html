<script src="../../../node_modules/redux/dist/redux.min.js"></script>
<script src="redux-action-types.js"></script>

<script>

    //users
    const REQUEST_USER=  'REQUEST_USER';
    const RECEIVE_USER = 'RECEIVE_USER';
    const LOGIN_USER = 'LOGIN_USER';
    const LOGOUT_USER = 'LOGOUT_USER';
    (function() {


        function user(
            state = {
                user: [],
                loggedIn: false
            },
            action
        ) {
            switch (action.type) {
                case LOGOUT_USER:
                    return Object.assign({}, state, {
                        loggedIn: false,
                        user: []
                    });
                case LOGIN_USER:
                    return Object.assign({}, state, {
                        loggedIn: true,
                    });
                case RECEIVE_USER:
                    return Object.assign({}, state, {
                        user: action.user,
                        lastUpdated: action.receivedAt
                    });
                default:
                    return state
            }
        }


        window.OC.rootReducer = Redux.combineReducers({
            user
        })

    }());
</script>