
<link rel="import" href="redux-action-types.js">

<script>
    var Ordercloud = window.Ordercloud || {};
    (function() {

        /**
         * Gets the logged in user
         * @returns {{type}}
         */
        function requestUser() {
            return {
                type: REQUEST_USER
            }
        }

        /**
         * Set the logged in user
         * @param payload
         * @returns {{type, user: *, receivedAt: number}}
         */
        function receiveUser (payload) {
            return {
                type: RECEIVE_USER,
                user: payload,
                receivedAt: Date.now()
            }
        }

        /**
         * Set the logged in user
         * @returns {{type}}
         */
        function loginUser (payload) {
            return {
                type: LOGIN_USER,
                token: payload
            }
        }

        /**
         * Set the logged in user
         * @returns {{type}}
         */
        function logoutUser () {
            return {
                type: LOGOUT_USER
            }
        }

        /**
         * Clear the token
         * @returns {{type}}
         */
        function clearToken () {
            return {
                type: CLEAR_TOKEN,
                receivedAt: Date.now()
            }
        }

        /**
         * Set the current organisation
         * @param payload
         * @returns {{type, organisation: *, receivedAt: number}}
         */
        function receiveOrganisation (payload) {
            return {
                type: RECEIVE_ORGANISATION,
                organisation: payload,
                receivedAt: Date.now()
            }
        }

        /**
         * Clears the organisation data
         * @returns {{type}}
         */
        function clearOrganisation () {
            return {
                type: CLEAR_ORGANISATION
            }
        }

        /**
         *
         * @param payload
         * @returns {{type, clientId: *, receivedAt: number}}
         */
        function receiveClientId (payload) {
            return {
                type: RECEIVE_CLIENT_ID,
                clientId: payload,
                receivedAt: Date.now()
            }
        }

        /**
         *
         * @param payload
         * @returns {{type, clientId: *, receivedAt: number}}
         */
        function receiveConfig (payload) {
            return {
                type: RECEIVE_CONFIG,
                clientId: payload.clientId,
                organisationId: payload.organisationId,
                tokenRedirectUri: payload.tokenRedirectUri,
                authClientId: payload.authClientId,
                authHostUrl: payload.authHostUrl,
                apiHostUrl: payload.apiHostUrl,
                environment: payload.environment,
                receivedAt: Date.now()
            }
        }


        Ordercloud.actions = {
            receiveUser,
            loginUser,
            logoutUser,
            receiveOrganisation,
            clearOrganisation,
            receiveClientId,
            receiveConfig
        }

    }());
</script>